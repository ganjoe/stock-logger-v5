ID,Category,Title,Description,Covered By
F-ARC-010,Architecture,Unified Gateway Core,"Das CLI dient als einziger Entry-Point für alle Akteure (Mensch, PTA/Bot). Es gibt keine parallelen ""Bot-APIs""; Bots nutzen dieselben Kommandos, nur mit anderem Ausgabeformat.","-"
F-SEC-010,Session,Explicit Session Modes,"Der Betriebsmodus (Interactive vs. Headless/Bot) wird beim Start per Flag (--mode=bot oder Login-Kontext) fixiert und darf zur Laufzeit nicht wechseln.","-"
F-INT-010,Interface,Context-Aware Rendering,"Das CLI erkennt den Modus (F-SEC-010) und rendert Ausgaben entweder als formatiertes ASCII/Text (Mensch) oder als minifiziertes JSON (Bot) auf stdout.","-"
F-INT-020,Interface,Structured Error Protocol,"Fehler müssen im Bot-Modus als JSON-Objekt mit eindeutigem error_code und message ausgegeben werden, um programmgesteuerte Reaktionen (Retry/Abort) zu ermöglichen.","-"
F-LOG-010,Logic,Trade Object Encapsulation,"Manipulationen an Trades (Gründung, Anpassung, Schließung) erfolgen ausschließlich über Methoden der TradeObject-Klasse. Das CLI ruft diese Methoden auf; direkter File-System-Zugriff auf .md Files ist dem CLI untersagt.","-"
F-DAT-010,Data,One-to-Many View Association,"Ein TradeObject (UUID) kann mit mehreren smart_trade.md Dateien verknüpft sein. Die Erstellung dieser Dateien erfolgt über die Schnittstelle des TradeObject, um die korrekte ID-Referenzierung sicherzustellen.","-"
F-UX-010,Visualization,ID-First Display Strategy,"In Listenansichten (z.B. portfolio show) steht die Trade-ID zwingend in der ersten Spalte. Dies gilt sowohl für die Text-Tabelle (Mensch) als auch für das JSON-Objekt (Bot).","-"
F-SEC-020,Safety,Action Confirmation Protocol,"Kritische Operationen (Close, Delete) erfordern im Human-Mode eine interaktive Bestätigung (y/n), im Bot-Mode zwingend das Flag --confirm oder --force. Ohne Flag wird der Befehl im Bot-Mode abgelehnt.","-"
F-SEC-030,Security,Actor Audit Trail,"Jede Aktion muss im Logfile (und in der Trade-Historie) eindeutig dem Akteur (Human-User vs. PTA-Bot) zugeordnet werden können (z.B. Feld triggered_by).","-"
F-ARC-020,Architecture,Logic Decoupling,"Das CLI-Modul darf keine Geschäftslogik oder mathematische Berechnungen enthalten. Es dient rein als I/O-Layer und delegiert an py_financial_math oder TradeObject.","-"
F-API-010,API,Capability Discovery,"Ein Befehl capabilities (oder help --json) muss existieren, der dem Bot dynamisch liefert, welche Kommandos und Versionen verfügbar sind (Feature Negotiation).","-"
